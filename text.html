<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Transcript Front</title>
</head>
<body>
  <h1>Extraction de sous-titres YouTube</h1>
  <input id="videoId" type="text" placeholder="Ex: dQw4w9WgXcQ">
  <button id="getTranscript">Récupérer</button>
  <pre id="output"></pre>

  <script type="module">
    import { YoutubeTranscript } from "https://cdn.skypack.dev/youtube-transcript";

    document.getElementById("getTranscript").addEventListener("click", async () => {
      const videoId = document.getElementById("videoId").value.trim();
      const output = document.getElementById("output");
      output.textContent = "Chargement...";

      try {
        const transcript = await YoutubeTranscript.fetchTranscript(videoId);
        // transcript est un array [{ text, offset, duration }, ...]
        output.textContent = transcript.map(t => t.text).join(" ");
      } catch (err) {
        output.textContent = "Erreur: " + err.message;
      }
    });
  </script>
</body>
</html>
